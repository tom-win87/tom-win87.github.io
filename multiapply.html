<html>
    <head>
          <script>(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();
      </script>

          <script>
          window._sp_queue = [];
          window._sp_ = {
              config: {
                  accountId: 1584,
                  baseEndpoint: 'https://cdn.privacy-mgmt.com',
                  ccpa: { },
                  propertyHref: 'https://multiapply.com'


                  events: {
                    onMessageReady: function (message_type) {
                        console.log('onMessageReady', message_type)
                    },
                    onMessageChoiceSelect: function (message_type, choice_id, choice_type_id) {
                        console.log('onMessageChoiceSelect message_type: ', message_type);
                        console.log('onMessageChoiceSelect choice_id: ', choice_id);
                        console.log('onMessageChoiceSelect choice_type_id: ', choice_type_id);
                    },
                    onPrivacyManagerAction: function (message_type, pmData) {
                        console.log('onPrivacyManagerAction message_type:', message_type);
                        console.log('onPrivacyManagerAction', pmData)
                    },
                    onMessageChoiceError: function (message_type, err) {
                        console.log('onMessageChoiceError', message_type);
                        console.log('onMessageChoiceError', err)
                    },
                    onConsentReady: function (message_type, consentUUID, euconsent) {
                        console.log('onConsentReady', message_type);
                        console.log('consentUUID', consentUUID)
                        console.log('euconsent', euconsent)
                    },
                    onPMCancel: function (message_type) {
                        console.log('onPMCancel', message_type)
                    },
                    onMessageReceiveData: function (message_type, data) {
                        console.log('onMessageReceiveData', message_type);
                        console.log('onMessageReceiveData', data)
                        console.log(JSON.stringify(data));
                    },
                    onSPPMObjectReady: function () {
                         console.log('onSPPMObjectReady')
                    },
                    onError: function (message_type, errorCode, errorObject, userReset){
                        console.log('errorCode: ', message_type);
                        console.log('errorCode: ' + errorCode);
                        console.log(errorObject);
                        console.log('userReset: ' + userReset);
                      },
                  }
              }
          }
          </script>
          <script src='https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js' async></script>
    </head>
    <body>
<h1>Multicampaign Demo ccpa TESTING AppliesFlag</h1>
<p>CCPA Test</p>
<button id="ccpa_link" style="display:block" onclick="window._sp_.ccpa.loadPrivacyManagerModal(550163)">CCPA Privacy Manager</button>
    </body>

</html>
