<!DOCTYPE html PUBLIC "-//HbbTV//1.1.1//EN" "http://www.hbbtv.org/dtd/HbbTV-1.1.1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>RC interaction demo app</title>
    <meta http-equiv="Content-Type" content="application/vnd.hbbtv.xhtml+xml; utf-8" />
    <link rel="stylesheet" href="rc-interaction.css" />
    <script type="text/javascript" src="./rc-buttons.js"></script>
    <script type="text/javascript" src="./rc-interaction.js"></script>
</head>

<!-- put your CMP here -->
<script type="text/javascript">
    //<![CDATA[ 
        function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){for(var t,e,o=[],n=window,r=n;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=n.parent}t||(function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))}();
    //]]>
      </script>
    
      <script>
    //<![CDATA[ 
      window._sp_queue = [];
      window._sp_ = {
          config: {
              isOTT: true,
              accountId: 22,
              baseEndpoint: 'https://cdn.privacy-mgmt.com',
              propertyHref: 'https://sca-ott-newwebpm',
              hbbTvSupport: true,
              gdpr: { },
              events: {
                  onMessageChoiceSelect: function() {
                      console.log('[event] onMessageChoiceSelect', arguments);
                  },
                  onMessageReady: function() {
                      console.log('[event] onMessageReady', arguments);
                  },
                  onMessageChoiceError: function() {
                      console.log('[event] onMessageChoiceError', arguments);
                  },
                  onPrivacyManagerAction: function() {
                      console.log('[event] onPrivacyManagerAction', arguments);
                  },
                  onPMCancel: function() {
                      console.log('[event] onPMCancel', arguments);
                  },
                  onMessageReceiveData: function() {
                      console.log('[event] onMessageReceiveData', arguments);
                  },
                  onSPPMObjectReady: function() {
                      console.log('[event] onSPPMObjectReady', arguments);
                  },
                  onConsentReady: function (consentUUID, euconsent) {
                      console.log('[event] onConsentReady', arguments);
                  },
                  onError: function() {
                      console.log('[event] onError', arguments);
                  },
              }
          }
      }
      //]]>
      </script>
      <script src='https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js' async="true"></script>

<body onload="start();">
    <div>
        <object type="application/oipfApplicationManager" id="applicationManager"> </object>
    </div>
    <!-- we shall define a safe area for the main scene -->
    <div class="safe_area" id="app_area">
        <!-- title -->
        <div class="title_text">RC interaction demo</div>
        <!-- status -->
        <div class="status_text">Navigation button: <span id="navigation_field"></span></div>
        <div class="status_text">Playback control button: <span id="playback_field"></span></div>
        <div class="status_text">Numeric button: <span id="numeric_field"></span></div>
        <div class="status_text" id="prevent_field"></div>
        <!-- bottom legend -->
        <div class="bottom_legend">
            <div class="legend_cell">
                <div class="legend_button_red"></div>
                <span class="legend_text">Hide this scene</span>
            </div>
            <div class="legend_cell">
                <div class="legend_button_green"></div>
                <span class="legend_text" id="toggle_playback_field"></span>
            </div>
            <div class="legend_cell">
                <div class="legend_button_yellow"></div>
                <span class="legend_text" id="toggle_numeric_field"></span>
            </div>
            <div class="legend_cell">
                <div class="legend_button_blue"></div>
                <span class="legend_text">Prevent all buttons</span>
            </div>
        </div>
    </div>
    <div class="red_button_style" id="red_button_notification_field">Press the red button on the RC to start!</div>
</body>
</html>