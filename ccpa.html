<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
<h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br><h1>CCPA Implementation</h1><br>
//stub file
<script type="text/javascript">(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();</script>
</head>
<body>
<script>
  var ifrm;
  window._sp_ccpa = {
    config: {
      mmsDomain: "https://message.sp-prod.net",
      ccpaOrigin: "https://ccpa-service.sp-prod.net",
      siteHref: "http://sp-ccpa-test.herokuapp.com-ccpa",
      privacyManagerId: "5e8f4d1c0d337d2559996eed",
      accountId: "22",
      getDnsMsgMms: true,
      alwaysDisplayDns: false,
      events: {
        onMessageReady: function (data) {
          console.log('onMessageReady: '+JSON.stringify(data));
        },
        onMessageChoiceSelect: function (choice_id, choice_type_id) {
          console.log('onMessageChoiceSelect choice_id: ', choice_id);
          console.log('onMessageChoiceSelect choice_id: ', choice_type_id);
        },
        onPrivacyManagerAction: function (pmData) {
          console.log('onPrivacyManagerAction', pmData)
        },
        onMessageChoiceError: function (err) {
          console.log('onMessageChoiceError', err)
        },
        onConsentReady: function (consentUUID, euconsent) {
          console.log('onConsentReady')
          console.log('consentUUID', consentUUID)
          console.log('euconsent', euconsent)
        },
        onPMCancel: function () {
          console.log('onPMCancel')
        },
        onMessageReceiveData: function (data) {
          console.log('onMessageReceiveData', data)

        },
        onSPPMObjectReady: function () {
          //console.log('onSPPMObjectReady', window._sp_.loadPrivacyManagerModal)
          // window._sp_.loadPrivacyManager(4400, '5d566301ab45d123ed973688')
        }
      },
    }
  }
</script>
<!-- <script src="https://ddhmlhfna6zcj.cloudfront.net/ccpa.js"></script> -->
<script src="https://clientjsv2-ccpa.s3.amazonaws.com/versioned/ccpa.js"></script>
<a onclick="window._sp_ccpa.loadPrivacyManager(7867, '5e8f4d1c0d337d2559996eed');" href="javascript:void(0);">Load PM</a>
<span style="position: absolute; bottom: 0pt; left: 0pt;"></span>

</body>
</html>

//client config
<script>
window._sp_ccpa = {
        config: {
          mmsDomain: "https://message.sp-prod.net",
          ccpaOrigin: "https://ccpa-service.sp-prod.net",
          accountId: 1584,
          getDnsMsgMms: true,
          alwaysDisplayDns: false,
    }
}
</script>
//URL script
<script src="https://clientjsv2-ccpa.s3.amazonaws.com/versioned/ccpa.js"></script>
</head>
<body>
<a onclick="window._sp_ccpa.loadPrivacyManagerModal(419530);" href="javascript:void(0);">Load First Layer Message</a>
<span style="position: absolute; bottom: 0pt; left: 0pt;"></span> //to do FLM load you need to include it in a scenario and them make it live through campaign
<p></p>
<a onclick="window._sp_ccpa.loadPrivacyManagerModal(null, '5ff8b86377fdf469606c25fb');" href="javascript:void(0);">Load PM</a>
<span style="position: absolute; bottom: 0pt; left: 0pt;"></span>
    <div></div> <div></div>
</body>
</html>
