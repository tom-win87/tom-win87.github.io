<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-PK6LNS8");
    </script>
    <!-- End Google Tag Manager -->

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }

      //default behavior
      gtag("consent", "default", {
        analytics_storage: "granted",
        wait_for_update: 500,
      });

      //behavior specific for end-users in the EEA + UK
      gtag("consent", "default", {
        analytics_storage: "denied",
        region: [
          "BE",
          "BG",
          "CZ",
          "DK",
          "CY",
          "LV",
          "LT",
          "LU",
          "ES",
          "FR",
          "HR",
          "IT",
          "PL",
          "PT",
          "RO",
          "SI",
          "HU",
          "MT",
          "NL",
          "AT",
          "IS",
          "LI",
          "NO",
          "SK",
          "FI",
          "SE",
          "DE",
          "EE",
          "IE",
          "EL",
          "US",
          "GB",
        ],
        wait_for_update: 500,
      });
    </script>

    <script>
      "use strict";
      function _typeof(t) {
        return (_typeof =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              })(t);
      }
      !(function () {
        var t = function () {
          var t,
            e,
            o = [],
            n = window,
            r = n;
          for (; r; ) {
            try {
              if (r.frames.__tcfapiLocator) {
                t = r;
                break;
              }
            } catch (t) {}
            if (r === n.top) break;
            r = r.parent;
          }
          t ||
            (!(function t() {
              var e = n.document,
                o = !!n.frames.__tcfapiLocator;
              if (!o)
                if (e.body) {
                  var r = e.createElement("iframe");
                  (r.style.cssText = "display:none"),
                    (r.name = "__tcfapiLocator"),
                    e.body.appendChild(r);
                } else setTimeout(t, 5);
              return !o;
            })(),
            (n.__tcfapi = function () {
              for (
                var t = arguments.length, n = new Array(t), r = 0;
                r < t;
                r++
              )
                n[r] = arguments[r];
              if (!n.length) return o;
              "setGdprApplies" === n[0]
                ? n.length > 3 &&
                  2 === parseInt(n[1], 10) &&
                  "boolean" == typeof n[3] &&
                  ((e = n[3]), "function" == typeof n[2] && n[2]("set", !0))
                : "ping" === n[0]
                ? "function" == typeof n[2] &&
                  n[2]({ gdprApplies: e, cmpLoaded: !1, cmpStatus: "stub" })
                : o.push(n);
            }),
            n.addEventListener(
              "message",
              function (t) {
                var e = "string" == typeof t.data,
                  o = {};
                if (e)
                  try {
                    o = JSON.parse(t.data);
                  } catch (t) {}
                else o = t.data;
                var n =
                  "object" === _typeof(o) && null !== o ? o.__tcfapiCall : null;
                n &&
                  window.__tcfapi(
                    n.command,
                    n.version,
                    function (o, r) {
                      var a = {
                        __tcfapiReturn: {
                          returnValue: o,
                          success: r,
                          callId: n.callId,
                        },
                      };
                      t &&
                        t.source &&
                        t.source.postMessage &&
                        t.source.postMessage(e ? JSON.stringify(a) : a, "*");
                    },
                    n.parameter
                  );
              },
              !1
            ));
        };
        "undefined" != typeof module ? (module.exports = t) : t();
      })();
    </script>

    <script>
      window._sp_queue = [];
      window._sp_ = {
        config: {
          accountId: 155,
          baseEndpoint: "https://cdn.privacy-mgmt.com",
          propertyHref: "https://gcm2.com",

          gdpr: {},
          events: {
            onMessageChoiceSelect: function () {
              console.log("[event] onMessageChoiceSelect", arguments);
            },
            onMessageReady: function () {
              console.log("[event] onMessageReady", arguments);
            },
            onMessageChoiceError: function () {
              console.log("[event] onMessageChoiceError", arguments);
            },
            onPrivacyManagerAction: function () {
              console.log("[event] onPrivacyManagerAction", arguments);
            },
            onPMCancel: function () {
              console.log("[event] onPMCancel", arguments);
            },
            onMessageReceiveData: function () {
              console.log("[event] onMessageReceiveData", arguments);
            },
            onSPPMObjectReady: function () {
              console.log("[event] onSPPMObjectReady", arguments);
            },
            onConsentReady: function (consentUUID, euconsent) {
              console.log("[event] onConsentReady", arguments);
            },
            onError: function () {
              console.log("[event] onError", arguments);
            },
          },
        },
      };
    </script>
    <script
      src="https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js"
      async
    ></script>
  </head>
  <body>
    <h1>TEST GCM UPDATE FOR ANALYTICS_STORAGE</h1>
    <button onclick="window._sp_.gdpr.loadPrivacyManagerModal(796754)">
      PRIVACY SETTINGS
    </button>
  </body>
</html>
